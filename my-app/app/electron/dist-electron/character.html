<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Character Overlay</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        background: transparent;
        overflow: hidden;
      }

      #character {
        position: absolute;
        bottom: 0;
        left: -200px; /* start off screen */
        width: 150px;
        height: 150px;
        background-image: url("./orange-cat.gif"); 
        background-size: contain;
        background-repeat: no-repeat;
        transition: transform 0.2s linear;
        pointer-events: none; 
      }
    </style>
  </head>
  <body>
    <div id="character"></div>

    <script>
      const char = document.getElementById("character");
      const screenWidth = window.innerWidth;
      let x = -200;
      let speed = 2 + Math.random() * 2;
      let direction = 1; // 1 = right, -1 = left
      let followMouse = false;

      // Randomly trigger mouse-following
      setInterval(() => {
        followMouse = Math.random() < 0.2; 
        if (followMouse) {
          console.log("ðŸ¾ Following mouse for a bit!");
          setTimeout(() => {
            followMouse = false;
          }, 4000 + Math.random() * 4000);
        }
      }, 10000);

      let mouseX = screenWidth / 2;
      window.addEventListener("mousemove", (e) => (mouseX = e.clientX));

      function moveCharacter() {
        if (followMouse) {
          const dx = mouseX - (x + 75);
          x += dx * 0.05; 
        } else {
          x += speed * direction;
          if (x > screenWidth + 200) {
            direction = 1;
            char.style.transform = "scaleX(-1)";
          } else if (x < -200) {
            direction = 1;
            char.style.transform = "scaleX(1)";
          }
        }
        char.style.left = `${x}px`;
        requestAnimationFrame(moveCharacter);
      }
      moveCharacter();
    </script>
  </body>
</html>
